{% extends "base.html" %}
{% block content %}

<h2>Products</h2>

<form method="GET" action="{{ url_for('products') }}">
    <input
        type="text"
        name="search"
        placeholder="Search products"
        value="{{ search }}"
    >
    <button type="submit">Search</button>
</form>

<hr>

{% if products %}
    {% for p in products %}
        <div style="margin-bottom: 15px;">
            <h4>{{ p.name }}</h4>
            <p>${{ p.price }}</p>
            <a href="/buy/{{ p.id }}">Buy</a>
        </div>
    {% endfor %}
{% else %}
    <p><b>No products found.</b></p>
{% endif %}

<hr>

{% if pagination.has_prev %}
    <a href="?page={{ pagination.prev_num }}&search={{ search }}">⬅ Prev</a>
{% endif %}

{% if pagination.has_next %}
    <a href="?page={{ pagination.next_num }}&search={{ search }}">Next ➡</a>
{% endif %}

<br><br>

<a href="/ai">Get AI Suggestions</a>

{% endblock %}
